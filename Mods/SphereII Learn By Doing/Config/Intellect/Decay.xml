<configs>
    <append xpath="/buffs">
        <!-- Main permanent buff that handles all Intellect decay logic. -->
        <buff name="buffLBD_Intellect_DecayManager" hidden="true">
            <duration value="0"/> <!-- Permanent -->
            <update_rate value="3000"/> <!-- Ticks every 3000 seconds -->

            <!-- Logic for attIntellect Decay -->
            <effect_group name="Intellect Attribute Decay">
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$attintellect_decay_counter"
                                  operation="add" value="1"/>
                <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffLBD_attIntellect_Decay">
                    <requirement name="CVarCompare" cvar="$attintellect_decay_counter" operation="GTE"
                                 value="@$lbd_decay_threshold_intervals"/>
                </triggered_effect>
            </effect_group>

            <!-- Logic for perkElectrocutioner Decay -->
            <effect_group name="Electrocutioner Perk Decay">
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar"
                                  cvar="$perkelectrocutioner_decay_counter" operation="add" value="1"/>
                <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffLBD_perkElectrocutioner_Decay">
                    <requirement name="CVarCompare" cvar="$perkelectrocutioner_decay_counter" operation="GTE"
                                 value="@$lbd_decay_threshold_intervals"/>
                </triggered_effect>
            </effect_group>

            <!-- Logic for perkRoboticTurrets Decay -->
            <effect_group name="Robotic Turrets Perk Decay">
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkturrets_decay_counter"
                                  operation="add" value="1"/>
                <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffLBD_perkTurrets_Decay">
                    <requirement name="CVarCompare" cvar="$perkturrets_decay_counter" operation="GTE"
                                 value="@$lbd_decay_threshold_intervals"/>
                </triggered_effect>
            </effect_group>

            <!-- Logic for perkFlurryOfIntellect Decay -->
            <effect_group name="Flurry of Intellect Perk Decay">
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar"
                                  cvar="$perkflurryofintellect_decay_counter" operation="add" value="1"/>
                <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff"
                                  buff="buffLBD_perkFlurryOfIntellect_Decay">
                    <requirement name="CVarCompare" cvar="$perkflurryofintellect_decay_counter" operation="GTE"
                                 value="@$lbd_decay_threshold_intervals"/>
                </triggered_effect>
            </effect_group>

            <!-- Logic for perkBetterBarter Decay -->
            <effect_group name="Better Barter Perk Decay">
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkbetterbarter_decay_counter"
                                  operation="add" value="1"/>
                <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffLBD_perkBetterBarter_Decay">
                    <requirement name="CVarCompare" cvar="$perkbetterbarter_decay_counter" operation="GTE"
                                 value="@$lbd_decay_threshold_intervals"/>
                </triggered_effect>
            </effect_group>

            <!-- Logic for perkDaringAdventurer Decay -->
            <effect_group name="Daring Adventurer Perk Decay">
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar"
                                  cvar="$perkdaringadventurer_decay_counter" operation="add" value="1"/>
                <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffLBD_perkDaringAdventurer_Decay">
                    <requirement name="CVarCompare" cvar="$perkdaringadventurer_decay_counter" operation="GTE"
                                 value="@$lbd_decay_threshold_intervals"/>
                </triggered_effect>
            </effect_group>

            <!-- Logic for perkPhysician Decay -->
            <effect_group name="Physician Perk Decay">
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkphysician_decay_counter"
                                  operation="add" value="1"/>
                <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffLBD_perkPhysician_Decay">
                    <requirement name="CVarCompare" cvar="$perkphysician_decay_counter" operation="GTE"
                                 value="@$lbd_decay_threshold_intervals"/>
                </triggered_effect>
            </effect_group>

            <!-- Logic for perkAdvancedEngineering Decay -->
            <effect_group name="Advanced Engineering Perk Decay">
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar"
                                  cvar="$perkadvancedengineering_decay_counter" operation="add" value="1"/>
                <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff"
                                  buff="buffLBD_perkAdvancedEngineering_Decay">
                    <requirement name="CVarCompare" cvar="$perkadvancedengineering_decay_counter" operation="GTE"
                                 value="@$lbd_decay_threshold_intervals"/>
                </triggered_effect>
            </effect_group>

            <!-- Logic for perkGreaseMonkey Decay -->
            <effect_group name="Grease Monkey Perk Decay">
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkgreasemonkey_decay_counter"
                                  operation="add" value="1"/>
                <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffLBD_perkGreaseMonkey_Decay">
                    <requirement name="CVarCompare" cvar="$perkgreasemonkey_decay_counter" operation="GTE"
                                 value="@$lbd_decay_threshold_intervals"/>
                </triggered_effect>
            </effect_group>

            <!-- Logic for perkCharismaticNature Decay -->
            <effect_group name="Charismatic Nature Perk Decay">
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar"
                                  cvar="$perkcharismaticnature_decay_counter" operation="add" value="1"/>
                <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff"
                                  buff="buffLBD_perkCharismaticNature_Decay">
                    <requirement name="CVarCompare" cvar="$perkcharismaticnature_decay_counter" operation="GTE"
                                 value="@$lbd_decay_threshold_intervals"/>
                </triggered_effect>
            </effect_group>

            <!-- Logic for perkMasterChef Decay -->
            <effect_group name="Master Chef Perk Decay">
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkmasterchef_decay_counter"
                                  operation="add" value="1"/>
                <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffLBD_perkMasterChef_Decay">
                    <requirement name="CVarCompare" cvar="$perkmasterchef_decay_counter" operation="GTE"
                                 value="@$lbd_decay_threshold_intervals"/>
                </triggered_effect>
            </effect_group>

            <!-- Logic for perkLivingOffTheLand Decay -->
            <effect_group name="Living Off the Land Perk Decay">
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar"
                                  cvar="$perklivingofftheland_decay_counter" operation="add" value="1"/>
                <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffLBD_perkLivingOffTheLand_Decay">
                    <requirement name="CVarCompare" cvar="$perklivingofftheland_decay_counter" operation="GTE"
                                 value="@$lbd_decay_threshold_intervals"/>
                </triggered_effect>
            </effect_group>

            <!-- Logic for perkLockPicking Decay -->
            <effect_group name="Lock Picking Perk Decay">
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perklockpicking_decay_counter"
                                  operation="add" value="1"/>
                <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffLBD_perkLockPicking_Decay">
                    <requirement name="CVarCompare" cvar="$perklockpicking_decay_counter" operation="GTE"
                                 value="@$lbd_decay_threshold_intervals"/>
                </triggered_effect>
            </effect_group>

            <!-- Logic for perkLuckyLooter Decay -->
            <effect_group name="Lucky Looter Perk Decay">
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkluckylooter_decay_counter"
                                  operation="add" value="1"/>
                <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffLBD_perkLuckyLooter_Decay">
                    <requirement name="CVarCompare" cvar="$perkluckylooter_decay_counter" operation="GTE"
                                 value="@$lbd_decay_threshold_intervals"/>
                </triggered_effect>
            </effect_group>

            <!-- Logic for perkIntellectMastery Decay -->
            <effect_group name="Intellect Mastery Perk Decay">
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar"
                                  cvar="$perkintellectmastery_decay_counter" operation="add" value="1"/>
                <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffLBD_perkIntellectMastery_Decay">
                    <requirement name="CVarCompare" cvar="$perkintellectmastery_decay_counter" operation="GTE"
                                 value="@$lbd_decay_threshold_intervals"/>
                </triggered_effect>
            </effect_group>
        </buff>

        <!-- Temporary buff that actually performs the attIntellect decay -->
        <buff name="buffLBD_attIntellect_Decay" hidden="true">
            <stack_type value="ignore"/>
            <duration value="1"/>
            <effect_group>
                <requirement name="ProgressionLevel" progression_name="attIntellect" operation="GT" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="AddProgressionLevel" progression_name="attIntellect"
                                  level="-1"/>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$attintellect_decay_counter"
                                  operation="set" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="ShowPerkLevelUp, SCore" perk="attIntellect"
                                  sound="ui_skill_decay"/>
            </effect_group>
        </buff>

        <!-- Temporary buff that actually performs the perkElectrocutioner decay -->
        <buff name="buffLBD_perkElectrocutioner_Decay" hidden="true">
            <stack_type value="ignore"/>
            <duration value="1"/>
            <effect_group>
                <requirement name="ProgressionLevel" progression_name="perkElectrocutioner" operation="GT" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="AddProgressionLevel"
                                  progression_name="perkElectrocutioner" level="-1"/>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar"
                                  cvar="$perkelectrocutioner_decay_counter" operation="set" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="ShowPerkLevelUp, SCore" perk="perkElectrocutioner"
                                  sound="ui_skill_decay"/>
            </effect_group>
        </buff>

        <!-- Temporary buff that actually performs the perkRoboticTurrets decay -->
        <buff name="buffLBD_perkTurrets_Decay" hidden="true">
            <stack_type value="ignore"/>
            <duration value="1"/>
            <effect_group>
                <requirement name="ProgressionLevel" progression_name="perkRoboticTurrets" operation="GT" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="AddProgressionLevel"
                                  progression_name="perkRoboticTurrets" level="-1"/>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$perkturrets_decay_counter"
                                  operation="set" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="ShowPerkLevelUp, SCore" perk="perkRoboticTurrets"
                                  sound="ui_skill_decay"/>
            </effect_group>
        </buff>

        <!-- Temporary buff that actually performs the perkFlurryOfIntellect decay -->
        <buff name="buffLBD_perkFlurryOfIntellect_Decay" hidden="true">
            <stack_type value="ignore"/>
            <duration value="1"/>
            <effect_group>
                <requirement name="ProgressionLevel" progression_name="perkFlurryOfIntellect" operation="GT" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="AddProgressionLevel"
                                  progression_name="perkFlurryOfIntellect" level="-1"/>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar"
                                  cvar="$perkflurryofintellect_decay_counter" operation="set" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="ShowPerkLevelUp, SCore" perk="perkFlurryOfIntellect"
                                  sound="ui_skill_decay"/>
            </effect_group>
        </buff>

        <!-- Temporary buff that actually performs the perkBetterBarter decay -->
        <buff name="buffLBD_perkBetterBarter_Decay" hidden="true">
            <stack_type value="ignore"/>
            <duration value="1"/>
            <effect_group>
                <requirement name="ProgressionLevel" progression_name="perkBetterBarter" operation="GT" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="AddProgressionLevel"
                                  progression_name="perkBetterBarter" level="-1"/>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$perkbetterbarter_decay_counter"
                                  operation="set" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="ShowPerkLevelUp, SCore" perk="perkBetterBarter"
                                  sound="ui_skill_decay"/>
            </effect_group>
        </buff>

        <!-- Temporary buff that actually performs the perkDaringAdventurer decay -->
        <buff name="buffLBD_perkDaringAdventurer_Decay" hidden="true">
            <stack_type value="ignore"/>
            <duration value="1"/>
            <effect_group>
                <requirement name="ProgressionLevel" progression_name="perkDaringAdventurer" operation="GT" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="AddProgressionLevel"
                                  progression_name="perkDaringAdventurer" level="-1"/>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar"
                                  cvar="$perkdaringadventurer_decay_counter" operation="set" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="ShowPerkLevelUp, SCore" perk="perkDaringAdventurer"
                                  sound="ui_skill_decay"/>
            </effect_group>
        </buff>

        <!-- Temporary buff that actually performs the perkPhysician decay -->
        <buff name="buffLBD_perkPhysician_Decay" hidden="true">
            <stack_type value="ignore"/>
            <duration value="1"/>
            <effect_group>
                <requirement name="ProgressionLevel" progression_name="perkPhysician" operation="GT" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="AddProgressionLevel"
                                  progression_name="perkPhysician" level="-1"/>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$perkphysician_decay_counter"
                                  operation="set" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="ShowPerkLevelUp, SCore" perk="perkPhysician"
                                  sound="ui_skill_decay"/>
            </effect_group>
        </buff>

        <!-- Temporary buff that actually performs the perkAdvancedEngineering decay -->
        <buff name="buffLBD_perkAdvancedEngineering_Decay" hidden="true">
            <stack_type value="ignore"/>
            <duration value="1"/>
            <effect_group>
                <requirement name="ProgressionLevel" progression_name="perkAdvancedEngineering" operation="GT"
                             value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="AddProgressionLevel"
                                  progression_name="perkAdvancedEngineering" level="-1"/>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar"
                                  cvar="$perkadvancedengineering_decay_counter" operation="set" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="ShowPerkLevelUp, SCore"
                                  perk="perkAdvancedEngineering" sound="ui_skill_decay"/>
            </effect_group>
        </buff>

        <!-- Temporary buff that actually performs the perkGreaseMonkey decay -->
        <buff name="buffLBD_perkGreaseMonkey_Decay" hidden="true">
            <stack_type value="ignore"/>
            <duration value="1"/>
            <effect_group>
                <requirement name="ProgressionLevel" progression_name="perkGreaseMonkey" operation="GT" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="AddProgressionLevel"
                                  progression_name="perkGreaseMonkey" level="-1"/>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$perkgreasemonkey_decay_counter"
                                  operation="set" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="ShowPerkLevelUp, SCore" perk="perkGreaseMonkey"
                                  sound="ui_skill_decay"/>
            </effect_group>
        </buff>

        <!-- Temporary buff that actually performs the perkCharismaticNature decay -->
        <buff name="buffLBD_perkCharismaticNature_Decay" hidden="true">
            <stack_type value="ignore"/>
            <duration value="1"/>
            <effect_group>
                <requirement name="ProgressionLevel" progression_name="perkCharismaticNature" operation="GT" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="AddProgressionLevel"
                                  progression_name="perkCharismaticNature" level="-1"/>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar"
                                  cvar="$perkcharismaticnature_decay_counter" operation="set" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="ShowPerkLevelUp, SCore" perk="perkCharismaticNature"
                                  sound="ui_skill_decay"/>
            </effect_group>
        </buff>

        <!-- Temporary buff that actually performs the perkMasterChef decay -->
        <buff name="buffLBD_perkMasterChef_Decay" hidden="true">
            <stack_type value="ignore"/>
            <duration value="1"/>
            <effect_group>
                <requirement name="ProgressionLevel" progression_name="perkMasterChef" operation="GT" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="AddProgressionLevel"
                                  progression_name="perkMasterChef" level="-1"/>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$perkmasterchef_decay_counter"
                                  operation="set" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="ShowPerkLevelUp, SCore" perk="perkMasterChef"
                                  sound="ui_skill_decay"/>
            </effect_group>
        </buff>

        <!-- Temporary buff that actually performs the perkLivingOffTheLand decay -->
        <buff name="buffLBD_perkLivingOffTheLand_Decay" hidden="true">
            <stack_type value="ignore"/>
            <duration value="1"/>
            <effect_group>
                <requirement name="ProgressionLevel" progression_name="perkLivingOffTheLand" operation="GT" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="AddProgressionLevel"
                                  progression_name="perkLivingOffTheLand" level="-1"/>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar"
                                  cvar="$perklivingofftheland_decay_counter" operation="set" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="ShowPerkLevelUp, SCore" perk="perkLivingOffTheLand"
                                  sound="ui_skill_decay"/>
            </effect_group>
        </buff>

        <!-- Temporary buff that actually performs the perkLockPicking decay -->
        <buff name="buffLBD_perkLockPicking_Decay" hidden="true">
            <stack_type value="ignore"/>
            <duration value="1"/>
            <effect_group>
                <requirement name="ProgressionLevel" progression_name="perkLockPicking" operation="GT" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="AddProgressionLevel"
                                  progression_name="perkLockPicking" level="-1"/>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$perklockpicking_decay_counter"
                                  operation="set" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="ShowPerkLevelUp, SCore" perk="perkLockPicking"
                                  sound="ui_skill_decay"/>
            </effect_group>
        </buff>

        <!-- Temporary buff that actually performs the perkLuckyLooter decay -->
        <buff name="buffLBD_perkLuckyLooter_Decay" hidden="true">
            <stack_type value="ignore"/>
            <duration value="1"/>
            <effect_group>
                <requirement name="ProgressionLevel" progression_name="perkLuckyLooter" operation="GT" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="AddProgressionLevel"
                                  progression_name="perkLuckyLooter" level="-1"/>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$perkluckylooter_decay_counter"
                                  operation="set" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="ShowPerkLevelUp, SCore" perk="perkLuckyLooter"
                                  sound="ui_skill_decay"/>
            </effect_group>
        </buff>

        <!-- Temporary buff that actually performs the perkIntellectMastery decay -->
        <buff name="buffLBD_perkIntellectMastery_Decay" hidden="true">
            <stack_type value="ignore"/>
            <duration value="1"/>
            <effect_group>
                <requirement name="ProgressionLevel" progression_name="perkIntellectMastery" operation="GT" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="AddProgressionLevel"
                                  progression_name="perkIntellectMastery" level="-1"/>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar"
                                  cvar="$perkintellectmastery_decay_counter" operation="set" value="0"/>
                <triggered_effect trigger="onSelfBuffStart" action="ShowPerkLevelUp, SCore" perk="perkIntellectMastery"
                                  sound="ui_skill_decay"/>
            </effect_group>
        </buff>
    </append>

    <!-- NEW: Append the activity reset logic to the main Intellect Manager buff. -->
    <append xpath="/buffs/buff[@name='buffLBD_IntellectManager']">
        <effect_group name="LBD Decay Activity Resets">
            <!-- Reset Decay Counter on attIntellect Activity -->
            <triggered_effect trigger="onSelfPrimaryActionRayHit" action="ModifyCVar" cvar="$attintellect_decay_counter"
                              operation="set" value="0">
                <requirement name="HoldingItemHasTags" tags="attIntellect"/>
                <requirement name="IsAlive" target="other"/>
            </triggered_effect>
            <triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="$attintellect_decay_counter"
                              operation="set" value="0">
                <requirement name="HoldingItemHasTags" tags="turretRanged"/>
            </triggered_effect>
            <triggered_effect trigger="onSelfPrimaryActionRayHit" action="ModifyCVar" cvar="$attintellect_decay_counter"
                              operation="set" value="0">
                <requirement name="HoldingItemHasTags" tags="turretMelee"/>
            </triggered_effect>
            <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="$attintellect_decay_counter" operation="set" value="0">
                <requirement name="HoldingItemHasTags" tags="medical"/>
                <requirement name="StatComparePercCurrentToModMax" stat="Health" operation="LT" value="1"/>
            </triggered_effect>
            <triggered_effect trigger="onSelfItemCrafted" action="ModifyCVar" cvar="$attintellect_decay_counter"
                              operation="set" value="0">
                <requirements compare_type="or">
                    <requirement name="RequirementRecipeCraftArea, SCore"
                                 craft_area="forge,workstation,chemistryStation"/>
                    <requirement name="RequirementRecipeHasTags, SCore" tags="perkGreaseMonkey"/>
                </requirements>
            </triggered_effect>
            <triggered_effect trigger="onSelfItemSold" action="ModifyCVar" cvar="$attintellect_decay_counter"
                              operation="set" value="0">
                <requirement name="CVarCompare" cvar="_last_item_value" operation="GT" value="0"/>
            </triggered_effect>
            <triggered_effect trigger="onSelfItemBought" action="ModifyCVar" cvar="$attintellect_decay_counter"
                              operation="set" value="0">
                <requirement name="CVarCompare" cvar="_last_item_value" operation="GT" value="0"/>
            </triggered_effect>
            <triggered_effect trigger="onSelfQuestComplete" action="ModifyCVar" cvar="$attintellect_decay_counter"
                              operation="set" value="0">
                <requirement name="CVarCompare" cvar="$completedQuestTier" operation="GTE" value="1"/>
            </triggered_effect>

            <!-- Reset Decay Counter on perkElectrocutioner Activity -->
            <triggered_effect trigger="onSelfPrimaryActionRayHit" action="ModifyCVar"
                              cvar="$perkelectrocutioner_decay_counter" operation="set" value="0">
                <requirement name="HoldingItemHasTags" tags="perkElectrocutioner"/>
                <requirement name="IsAlive" target="other"/>
            </triggered_effect>

            <!-- Reset Decay Counter on perkRoboticTurrets Activity -->
            <triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="$perkturrets_decay_counter"
                              operation="set" value="0">
                <requirement name="HoldingItemHasTags" tags="turretRanged"/>
            </triggered_effect>
            <triggered_effect trigger="onSelfPrimaryActionRayHit" action="ModifyCVar" cvar="$perkturrets_decay_counter"
                              operation="set" value="0">
                <requirement name="HoldingItemHasTags" tags="turretMelee"/>
            </triggered_effect>
            <triggered_effect trigger="onSelfKilledOther" action="ModifyCVar" cvar="$perkturrets_decay_counter"
                              operation="set" value="0">
                <requirement name="HoldingItemHasTags" tags="turret"/>
            </triggered_effect>

            <!-- Reset Decay Counter on perkFlurryOfIntellect Activity -->
            <triggered_effect trigger="onSelfPrimaryActionRayHit" action="ModifyCVar"
                              cvar="$perkflurryofintellect_decay_counter" operation="set" value="0">
                <requirement name="HoldingItemHasTags" tags="perkElectrocutioner"/>
                <requirement name="IsAlive" target="other"/>
            </triggered_effect>

            <!-- Reset Decay Counter on perkBetterBarter Activity -->
            <triggered_effect trigger="onSelfItemSold" action="ModifyCVar" cvar="$perkbetterbarter_decay_counter"
                              operation="set" value="0">
                <requirement name="CVarCompare" cvar="_last_item_value" operation="GT" value="0"/>
            </triggered_effect>
            <triggered_effect trigger="onSelfItemBought" action="ModifyCVar" cvar="$perkbetterbarter_decay_counter"
                              operation="set" value="0">
                <requirement name="CVarCompare" cvar="_last_item_value" operation="GT" value="0"/>
            </triggered_effect>

            <!-- Reset Decay Counter on perkDaringAdventurer Activity -->
            <triggered_effect trigger="onSelfQuestComplete" action="ModifyCVar"
                              cvar="$perkdaringadventurer_decay_counter" operation="set" value="0">
                <requirement name="CVarCompare" cvar="$completedQuestTier" operation="GTE" value="1"/>
            </triggered_effect>

            <!-- Reset Decay Counter on perkPhysician Activity -->
            <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="$perkphysician_decay_counter"
                              operation="set" value="0">
                <requirement name="HoldingItemHasTags" tags="medical"/>
                <requirement name="StatComparePercCurrentToModMax" stat="Health" operation="LT" value="1"/>
            </triggered_effect>

            <!-- Reset Decay Counter on perkAdvancedEngineering Activity -->
            <triggered_effect trigger="onSelfItemCrafted" action="ModifyCVar"
                              cvar="$perkadvancedengineering_decay_counter" operation="set" value="0">
                <requirement name="RequirementRecipeCraftArea, SCore" craft_area="forge,workstation,chemistryStation"/>
            </triggered_effect>

            <!-- Reset Decay Counter on perkGreaseMonkey Activity -->
            <triggered_effect trigger="onSelfItemCrafted" action="ModifyCVar" cvar="$perkgreasemonkey_decay_counter"
                              operation="set" value="0">
                <requirement name="RequirementRecipeHasTags, SCore" tags="perkGreaseMonkey"/>
            </triggered_effect>

            <!-- Reset Decay Counter on perkCharismaticNature Activity -->
            <triggered_effect trigger="onSelfItemSold" action="ModifyCVar" cvar="$perkcharismaticnature_decay_counter"
                              operation="set" value="0">
                <requirement name="CVarCompare" cvar="_last_item_value" operation="GT" value="0"/>
            </triggered_effect>
            <triggered_effect trigger="onSelfItemBought" action="ModifyCVar" cvar="$perkcharismaticnature_decay_counter"
                              operation="set" value="0">
                <requirement name="CVarCompare" cvar="_last_item_value" operation="GT" value="0"/>
            </triggered_effect>
            <triggered_effect trigger="onSelfQuestComplete" action="ModifyCVar"
                              cvar="$perkcharismaticnature_decay_counter" operation="set" value="0">
                <requirement name="CVarCompare" cvar="$completedQuestTier" operation="GTE" value="1"/>
            </triggered_effect>

            <!-- Reset Decay Counter on perkIntellectMastery Activity -->
            <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$perkintellectmastery_decay_counter"
                              operation="set" value="0">
                <requirement name="ProgressionLevel" progression_name="attIntellect" operation="GT" value="0"/>
            </triggered_effect>
        </effect_group>
    </append>
</configs>
