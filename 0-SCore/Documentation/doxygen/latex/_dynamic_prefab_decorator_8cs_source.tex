\hypertarget{_dynamic_prefab_decorator_8cs_source}{}\doxysection{Dynamic\+Prefab\+Decorator.\+cs}
\label{_dynamic_prefab_decorator_8cs_source}\index{C:/Program Files (x86)/Steam/steamapps/common/7 Days To Die/Mods.working/0-\/SCore/Harmony/PrefabFeatures/DynamicPrefabDecorator.cs@{C:/Program Files (x86)/Steam/steamapps/common/7 Days To Die/Mods.working/0-\/SCore/Harmony/PrefabFeatures/DynamicPrefabDecorator.cs}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00001}00001\ \textcolor{comment}{//using\ HarmonyLib;}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00002}00002\ \textcolor{comment}{//using\ System;}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00003}00003\ \textcolor{comment}{//using\ UnityEngine;}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00005}00005\ \textcolor{comment}{//namespace\ Harmony.PrefabFeatures}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00006}00006\ \textcolor{comment}{//\{}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00007}00007\ \textcolor{comment}{//\ \ \ \ /**}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00008}00008\ \textcolor{comment}{//\ \ \ \ \ *\ Adds\ all\ prefabs\ placed\ in\ the\ world\ to\ the\ dynamic\ prefab\ decorator}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00009}00009\ \textcolor{comment}{//\ \ \ \ \ *\ }}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00010}00010\ \textcolor{comment}{//\ \ \ \ \ *\ This\ class\ includes\ a\ Harmony\ patches\ to\ disable\ the\ landclaim\ block\ on\ the\ trader,\ making\ them\ vulnerable.}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00011}00011\ \textcolor{comment}{//\ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00012}00012\ \textcolor{comment}{//\ \ \ \ public\ class\ DynamicPrefabDecorator}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00013}00013\ \textcolor{comment}{//\ \ \ \ \{}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00014}00014\ \textcolor{comment}{//\ \ \ \ \ \ \ \ [HarmonyPatch(typeof(Prefab))]}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00015}00015\ \textcolor{comment}{//\ \ \ \ \ \ \ \ [HarmonyPatch("{}CopyIntoLocal"{})]}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00016}00016\ \textcolor{comment}{//\ \ \ \ \ \ \ \ public\ class\ PrefabCopyIntoLocal}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00017}00017\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \{}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00018}00018\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ public\ static\ void\ Postfix(Prefab\ \_\_instance,\ Vector3i\ \_destinationPos)}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00019}00019\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \{}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00020}00020\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ prefabs\ =GameManager.Instance.World.ChunkClusters[0].ChunkProvider.GetDynamicPrefabDecorator().GetPOIPrefabs().FindAll(instance\ =>\ instance.name.Contains(\_\_instance.PrefabName));}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00021}00021\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ foreach\ (var\ prefab\ in\ prefabs)}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00022}00022\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (prefab.boundingBoxPosition\ ==\ \_destinationPos)}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00023}00023\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return;}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00027}00027\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Log.Out(\$"{}PreFab::CopyIntoLocal():\ Adding\ Prefab\ \{\_\_instance.PrefabName\}\ to\ Dynamic\ decorator\ as\ it\ was\ not\ found."{});}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00028}00028\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GameManager.Instance.World.ChunkClusters[0].ChunkProvider.GetDynamicPrefabDecorator().CreateNewPrefabAndActivate(\_\_instance.location,\ \_destinationPos,\ \_\_instance,\ false);}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00029}00029\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00030}00030\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00031}00031\ \textcolor{comment}{//\ \ \ \ \}}}
\DoxyCodeLine{\Hypertarget{_dynamic_prefab_decorator_8cs_source_l00032}00032\ \textcolor{comment}{//\}}}

\end{DoxyCode}
