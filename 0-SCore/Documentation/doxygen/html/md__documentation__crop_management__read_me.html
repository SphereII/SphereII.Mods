<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SCore Documentation: ReadMe</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SCore Documentation
   </div>
   <div id="projectbrief">Documentation for features in the SCore</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__documentation__crop_management__read_me.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">ReadMe </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>[ Crop Management ]</p><ul>
<li>Initial Implementation of Advanced Crop Management features. This will likely be buggy.</li>
<li>There's a lot to unpack here. Buckle up.</li>
<li>When enabled, crops will need to be within a 5x5 block radious of water block. This is configurable with the WaterRange on a per-plant basis. Default is 5. Each plant will record where it's water blocks are. The CheckInterval is used to determine how often the plant will check its water source.<ul>
<li>If the water is gone when checked, the plant will rescan for a new block.</li>
<li>If no new water block is found, it will wilt.</li>
<li>Whenever a plant successfully checks in with water, it will do 1 point of damage to the water.<ul>
<li>When a water block's damage exceeds its max damage (100 by default), it will turn into air. Crop data is not persisted to disk. Rather, if data is missing, it simply rechecks and re-discovers.</li>
</ul>
</li>
</ul>
</li>
<li><p class="startli"><a class="el" href="namespace_s_core.html">SCore</a>'s blocks.xml contains a new entry:</p>
<p class="startli">&lt;property class="CropManagement" &gt;</p>
<p class="startli">&lt;property name="Logging" value="false"&gt;</p>
<p class="startli">&lt;property name="CropEnable" value="false"&gt;</p>
<p class="startli">&lt;property name="CheckInterval" value="600" &gt;</p>
<p class="startli">&lt;property name="MaxPipeLength" value="500" &gt; &lt;/property&gt;</p>
<p class="startli">As always, it is not recommended to change the <a class="el" href="namespace_s_core.html">SCore</a>'s blocks.xml directly when adjusting, but rather use a modlet:</p>
<p class="startli">&lt;set xpath="/blocks/block[@name='ConfigFeatureBlock']/property[@class='CropManagement']/property[@name='CropEnable']/@value"&gt;true&lt;/set&gt;</p>
<p class="startli">&lt;set xpath="/blocks/block[@name='ConfigFeatureBlock']/property[@class='CropManagement']/property[@name='CheckInterval']/@value"&gt;120&lt;/set&gt;</p>
</li>
</ul>
<pre class="fragment">    - Crops that you want to manage under the advanced crop management must use the new classes:
        BlockPlantGrowingSDX

        It supports the following properties:
            RequireWater: [ true/false ]
                Allows invidiaul plants to control whether they need water or not. 
                - This can be read using extends, but overridden by the individual block
            WaterRange: [ 5 ]
                Allows individual plants to control how far away their water can be.
                - This can be read using extends, but overridden by the individual block
            PlantGrowing.Wilt: [ treeDeadPineLeaf ]
                If a plant goes without water for tool long, it will wilt into this block.
                - Can be air as well.
            Wilt: [ true / false ]: default false.
                - If a plant cannot find a water source, it will wilt and destroy itself.

        Example XML to convert all growable crops to use water.

            &lt;!-- Setting up defaults --&gt;
            &lt;!-- Changing all crops to using the PlantGrowingSDX class --&gt;
            &lt;set xpath="/blocks/block[@name='cropsGrowingMaster']/property[@name='Class']/@value"&gt;PlantGrowingSDX, SCore&lt;/set&gt;
            &lt;append xpath="/blocks/block[@name='cropsGrowingMaster']"&gt;
                &lt;!-- If the crop needs water to survive. Default: false --&gt;
                &lt;property name="RequireWater" value="true" /&gt; 

                &lt;!-- how far away that block can be from a water source: Default is 5 --&gt;
                &lt;property name="WaterRange" value="5" /&gt;  

                &lt;!-- The block the crop downgrades too if its dead. Default: Air--&gt;
                &lt;property name="PlantGrowing.Wilt" value="treeDeadPineLeaf"/&gt;

                &lt;!-- if set to true, the plant will die when there is no water near by. --&gt;
                &lt;property name="Wilt" value="true" /&gt;
            &lt;/append&gt;

    - In order to better support crops, and make them more fun, support for water pipes have been added.
        Two new classes have been written:
            BlockWaterPipeSDX: This block designates a block as a water carrier. It is not a water source itself, but can allow water to 'move' through. 
                - One section of the pipe must touch a water source block.

                - In this example, I convert all metalPipe's to be used as water pipes
                    &lt;append xpath="/blocks/block[starts-with(@name, 'metalPipe')]"&gt;
                        &lt;property name="Class" value="WaterPipeSDX, SCore" /&gt;
                    &lt;/append&gt;

            BlockWaterSourceSDX: This block designates a block as a water distributor. It is not a water source itself.
                - if the BlockWaterSourceSDX is connected to a series of BlockWaterPipeSDX which is connected to a water source block, it will act like a water source block.

                - In this example, I'm using the metalPipeValue as a distributor
                    &lt;set xpath="/blocks/block[@name='metalPipeValve']/property[@name='Class']/@value"&gt;WaterSourceSDX, SCore&lt;/set&gt;


        A water source block is currently defined as:
            BlockLiquidV2 : Water from a river, lake, or dumped from a bucket
            terrBedRock: if you connect a pipe to bedrock, it will act as an unlimited water source.

            Any block is the property WaterSource is set on it, and set to true
                &lt;property name="WaterSource" value="true" /&gt;
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
